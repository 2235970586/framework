#set($js=["function/function","function/url","function/directory"])
#set($layout="layout/default.html")
#set($title="菜单资源管理<small>配置菜单项的URL资源</small>")

<script id="dialogTemplate" type="text/x-kendo-template">
	<button class="btn btn-default" id="addBtn" data-title="新增功能" data-src="#= url #" data-toggle="modal" data-target="\\#optionDialog">#= name #</button>
</script>
<script id="deleteTemplate" type="text/x-kendo-template">
	<button class="btn btn-default" id="deleteBtn">#= name #</button>
</script>
<script id="modifyTemplate" type="text/x-kendo-template">
	<button class="btn btn-default" id="modifyBtn" data-title="修改功能" data-src="#= url #" data-toggle="modal" data-target="\\#optionDialog">#= name #</button>
</script>
<script id="importTemplate" type="text/x-kendo-template">
	<button class="btn btn-default" id="importBtn" data-title="导入功能" data-src="#= url #" data-toggle="modal" data-target="\\#optionDialog">#= name #</button>
</script>
<script id="exportTemplate" type="text/x-kendo-template">
	<div class="btn-group" id="exportBtn">
		<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			#= name # <span class="caret"></span>
		</button>
		<ul class="dropdown-menu">
			<li id="directory"><a href="javascript:;">按目录导出</a></li>
			<li role="separator" class="divider"></li>
			<li id="condition"><a href="javascript:;">按列表条件导出</a></li>
		</ul>
	</div>
</script>

<script id="queryFunctionTemplate" type="text/x-kendo-template">
	<div class="input-group pull-right" style="display: inline!important;">
		<input id="queryInput" type="text" name="params"
			   class="form-control" style="width: 300px;"
			   placeholder="请输入需要查询的功能名称" />
		<div class="input-group-btn" style="display: inline!important;">
			<button type="submit" id="searchBtn" class="btn btn-primary">
				<i class="fa fa-search">查询</i>
			</button>
		</div>
	</div>
</script>

<script id="addUrlTemplate" type="text/x-kendo-template">
	<button class="btn btn-default" id="addUrlBtn" data-title="添加URL资源" data-src="#= url #" data-toggle="modal" data-target="\\#optionDialog">#= name #</button>
</script>

<script id="modifyUrlTemplate" type="text/x-kendo-template">
	<button class="btn btn-default" id="modifyUrlBtn" data-title="修改URL资源" data-src="#= url #" data-toggle="modal" data-target="\\#optionDialog">#= name #</button>
</script>

<script id="deleteUrlTemplate" type="text/x-kendo-template">
	<button class="btn btn-default" id="deleteUrlBtn"><i class="icon-trash"></i> 删除</button>
</script>

<div class="row">

	<div class="col-md-3 col-sm-4">
		<div class="box-header">
			<i class="fa fa-inbox"></i>

			<h3 class="box-title">目录信息</h3>
		</div>
		<button class="btn btn-default btn-xs" id="behind" data-title="添加目录"
			data-src="$!context.contextPath/directory/toAdd" data-toggle="modal"
			data-target="#optionDialog">
			<i class="icon-plus"></i> 添加
		</button>
		<button class="btn btn-default btn-xs" id="sub" data-title="添加目录"
			data-src="$!context.contextPath/directory/toAdd" data-toggle="modal"
			data-target="#optionDialog">
			<i class="icon-plus"></i> 子添加
		</button>
		<button class="btn btn-default btn-xs" id="modify" data-title="修改目录"
			data-src="$!context.contextPath/directory/toModify" data-toggle="modal"
			data-target="#optionDialog">
			<i class="icon-edit"></i> 修改
		</button>
		<button class="btn btn-default btn-xs" id="remove"
			data-src="$!context.contextPath/directory/remove">
			<i class="icon-trash"></i>删除
		</button>
		<div style="margin-top: 15px;">
			<div class="demo-section k-header">
				<div id="treeview"></div>
			</div>
		</div>
	</div>
	<div class="col-md-9 col-sm-8">
		<div class="box-header">
			<i class="fa fa-inbox"></i>
			<h3 class="box-title">功能信息</h3>
		</div>
		<div class="row">
			<div class="col-xs-12">
				<div id="functionDataTable"></div>
			</div>
		</div>
		<div class="box-header">
			<i class="fa fa-inbox"></i>
			<h3 class="box-title">URL资源信息</h3>
		</div>
		<div class="row">
			<div class="col-xs-12">
				<div id="urlDataTable"></div>
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="optionDialog" tabindex="-1" role="dialog"
	aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content" style="width: 600px; height: 400px;">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title"></h4>
			</div>
			<iframe allowtransparency="true" width="100%" style="border: none"
				height="100%" scrolling="yes" seamless="seamless"></iframe>
		</div>
	</div>
</div>